# Sudoku-GUI

2018年秋季学期《软件工程基础》课程个人项目作业

带有图形用户界面（GUI）的数独游戏，运行于 Windows 平台，使用 C# WinForm 开发。

GitHub 项目地址 ：https://github.com/lytning98/sudoku

**GUI 程序是本次作业的附加题，且该项目较为简单，因此本文将不再较为深入地讨论细节**

[TOC]

## 一、使用说明与效果展示

程序的可执行文件为 GitHub 仓库中的 `bin\GUI.exe` 。GUI 程序与控制台版应用程序 `sudoku.exe`  之间没有依赖，可以独立运行。

程序的运行可能需要 Visual Studio 2017 的相关运行库。

​       

程序的 GUI 主要分为两部分，占主要部分的棋盘和下方的信息提示。

![GUI_1](img\GUI1.png)

用户的操作主要通过鼠标来进行。用户点击中央的五块方格可以选择难度进入游戏。

进入游戏后，程序将根据选择的难度随机生成一组数独题目，棋盘中将会显示已经给定的数字和未给定的空白方格。

用户可以点击空白方格，并在周围显示出的待选项中选择想填入该格的数字，或清除已经填入的数字。在候选区中，当前选定方格以橙色底色标出，当前方格中已经填入的数字（如果存在）用蓝色字色标出。

用户填入的数字将使用蓝色来与给定的数字（黑色）区分。

![GIF_1](img\GIF1.gif)

当用户想要重新开始游戏或重新选择难度时，可以右键方格，并在弹出的菜单中选择相应的选项。

![GIF_2](img\GIF2.gif)

当用户将方格填满时将触发检验逻辑，若填入的数字构成给定数独的一组可行解则方格全部变绿、游戏结束并给出提示，否则方格变红并给出提示。

![GIF_3](img\GIF3.gif)

## 二、实现

### 1.	概述

本程序使用 Visual Studio IDE 和 C# WinForm 开发。

本项目逻辑较为简单，为了缩短开发周期（主要是相关知识的学习周期），项目没有采用 GDI 绘图的方式来呈现 UI，而是选择使用了 81 个自定义外观的 Button 控件与用户交互。采用 Button 控件的原因主要有：

- 相较于 GDI 图形绘制，笔者本人对相关控件和属性和事件掌握更为熟练，不需要再花大量时间学习和熟悉；
- Button 等 WinForm Control 控件有完善的事件机制，而采用 GDI 绘图则只能根据低层次的交互信息（如点击坐标等）自行编写事件响应；
- 在本项目中，图形重绘频率低、范围小、图形简单，不采用 GDI 进行图形绘制也可以有较好的效率和较简单直接的实现方式。

这些 Button 控件由程序指定具体位置，排布成数独棋盘的格式，并等待与用户进行交互。

### 2.	算法

本程序中生成随机数独题目的算法与控制台应用程序中生成数独终局的算法类似，都是通过生成一个排列并对其进行循环轮换来得到的（相关内容可以参考介绍控制台版本的博文）。但在本程序中，初始排列是随机生成的而非逐个枚举的，以保证随机性。

在生成出数独终局后，程序将按照用户选定的难度，随机在每个九宫格内删除若干数字供用户填写，以形成数独谜题。

在用户填满数独后，程序将逐个检验用户填入的数字是否与其他数字发生冲突，即对解的合法性进行验证。在本程序中，数独题目不保证有唯一解。

### 3.	图形与交互

程序的图形变化通过改变 Button 控件的前后背景色来实现。

与 GUI 的交互可以通过 C# WinForm 支持的丰富事件来轻松完成。